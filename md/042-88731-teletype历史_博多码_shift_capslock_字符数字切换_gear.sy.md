---
show: step
version: 1.0
enable_checker: true
---

# teletypewriter 历史

## 回忆上次内容

- 上次见到了一个真的机械打字机
	- 感受到了蒸汽朋克的时代背景
- 上上次区分了一些概念
  - `terminal`终端，电脑连线最终的端点
  - `TeleTYpewriter`，电传打印机，终端硬件
  - `shell`，终端硬件基础上的软件壳子
  - `Console` 控制台，直接连接主机的控制面板
- 换行和回车是两回事
  - 换行 对应字节`0x0A` 
	- Line-Feed 的意思是水平不动、垂直向上喂纸
	- 所以是`feed`
  - 回车 对应字节`0x0D` 
	- Carriage-Return 
	- 意思是让上图可移动的打印头
		- 好像可移动的四轮马车 Carriage)
	- 垂直不动、水平 `回`到纸张左侧 
	- 所以是`Return`
- 对于换行和回车，不同层面的理解
  - 电传打字机:两件事，经常一起干，但也可以分别干
  - 不同操作系统
    - unix-like：大家一起简化这个成`\n`，就步调一致就都好了
    - mac：为了避免麻烦，我和unix-like一致
    - windows：原来我用户多，定什么规矩我说了算,现在我还是随大流吧
  - python 解释器
    - 首先我觉得`unix-like`做得对
    - 不管在什么系统、什么架构上
    - 我把这个事统一
- 光说不练假把式
- 我能看看电传打字机吗？🤔
- 那这`0x0A`、`0x0D`谁规定的
- 来自于什么呢？

### 发明人

- `0x0A`、`0x0D` 
	- 这两个字符 来自于 一套编码
	- 博多码(`Baudot code`)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614081948071)


- 为什么 叫做 博多码(`Baudot code`)呢？
	- 因为 发明这个的人 叫波多 
		- Jean-Maurice-Émile `Baudot`
		- 从农民
		- 到电报操作员
		- 再到法国电报工程师
		- 他收到`Hughes`的启发
			- 可见于[oeasy 电路 25 话](https://www.bilibili.com/video/BV1Es411Z7MH?p=25)
	- 发明了 用一条线路 传输`多个bit位` 

### 独特的按键和编码

- 这是 最早 发报电键 的样子
  - 5-bit 
  - 白色的 
	- 有用
  - 黑色的
	- 是分隔符

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614082162708)

- 可以传输`2`<sup>`5`</sup>种信号
	- 具体怎么 分配编码 呢？

### Baudot 编码

- 博多 设计了 编码的方法
  - 后来 他就 申请了法国专利
	- 再后来 申请了英国专利
- 今天所用 的 `波特` 这个单位
	- 就是 来源于他

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614082283082)

- 但是 这种编码 只有字母
	- 没有 数字
- 怎么发 `带数目的电报` 呢？

### 挂档

- 把字符 `分类` 成两组
  - `Letter` 
	- 字母
  - `Figure` 
	- 数字和符号

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614082485171)

- 通过标志位 进行选择
	- 落实到 档位
	- 选 打字头
		- 由 哪组字模 进行输出
	- 通过 特定字符
		- 切换 字模档位
- 按一下 `0b01000` 
	- 切换 档位
- 这种思想 来自于 机械

### 档位

- gear 就是 齿轮
	- 来自 `挂档`

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220408-1649380843344)

- 从 蒸汽火车
	- 到 电动汽车

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220408-1649380940404)

- 甚至 计算机
	- 这样 一路下来

### 换挡键

- 今天的 caps lock 和 shift 
	- 是 `两`种 换挡方式

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220408-1649381068444)

- `5bit` 这样 就可以
	- 虚拟出 `6bit` 的效果
    - 但是 需要 一个字符 来切换状态
- 还需要约定
	- 最初的状态
	- 以及 
		- 状态多长时间之后 
		- 重置回默认
    - 这些其实是 最早的`session`(会话)
- 这种编码最终形成了`ITA1`编码

### 键盘

- 形成了 `qwer`键盘 的基本布局
	- 有字符、数字、符号
	- 控制字符
	  - BELL
	  - LINE FEED
	  - CAR RET
	  - FIGS
	  - LTRS

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614083402089)

- 在当时
  - 回车 和 换行 
	- 还是两回事
  - 尤其 机械打字机
- 打字符 速度快
  - 由于 是 `机械`装置
  - 换行+回车 速度慢
  - 换行时间 不给足的画
	- 下一个字符 
	- 位置不确定
- 往往 
	- 多发一些 空(Null)
	- 延迟时间
- 注意这个空(Null)
	- 不是空格(Space)
    - 空(Null)延迟时间
    	- 却不 打印内容
	- 等 carriage return 回来
		- 继续 打印
- 电传打字机
	- 有 什么`经典`机型 么？

### ASR-33

- `ASR-33`是当时的一代机皇
	- `A`utomatic `S`end-`R`eceive

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221022-1666401458347)

- 可以看到 当时的io设备
	- 纸带 存储
	- 打印纸 标准输出流
	- 打字机键盘 标准输入流
- 为什么 当初 收发电报的 电传打字机
- 会和 电子计算机 结合得 这么紧密 呢？

### unix时代

- 昂贵的 主机时代
	- PDP-7 小型机 
		- 72000美元
	- GE-45
		- 1000万美元
- 这就是 开发multics的 时代背景

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221022-1666401926491)

- 项目失败后
	- 无所事事的两人
	  - `Kenneth Thompson`
	  - `Dennis Ritchie`
  - 希望能在 PDP 机器上继续玩`star travel`
- 于是 制作了 `unix` 和 `c`
	- 目标是 分时 多用户系统
		- 分时
			- 意味着 各个进程
			- 可以 分享 硬件资源
		- 多用户
			- 意味着 要给 每个用户
			- 配置 一个 终端
- 每个 用户 都要有
	- 显示器
	- 键盘

### 价格 

- 当时 所有的计算机设备
	- 价格 都非常昂贵
	- 显示器 别想了
	- 而且 键盘和主机 是 集成在一起
	- 没有独立的键盘

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230108-1673183832806)

- 最后 
	- 找到 ASR33电传打字机
	- 电传打字机 的 用途
		- 是 收发电报
- 但是 
	- 也可以 作为 
		- 人与计算机 的 接口
	- 而且 价格低廉
- 编码 也随着 
	- 机器 的 进化
	- 不断 进化

### 编码的进化

- 在 ITA1 的基础上
	- 编码 `进化` 了
- 类型 还是 三类
  - 字符
  - 符号包括数字
  - 控制字符

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210223-1614083549476)

- 特殊字符 
	- 在`ascii`时代 
	- 还有吗？
	-  比如bel？
- 除了 `\n`和`\r` 之外
	- 还有 什么控制字符 呢？
	- 黑暗森林 的 神秘面纱
		- 感觉 就要 揭开 了呢！

## 总结

- 我们回顾了`5bit-Baudot`博多码的来历
- 从 莫尔斯码 到 博多码
	- 原来
	  - 人 来 收发电报
	- 现在
		- 机器 来 收发电报
	- 输入方式
		- 从 电键
		- 改成 键盘
	- 输出方式
		- 从 纸带
		- 变成 打印纸张
- 后来
	- 电传打字机ASR-33
	- 成为 初代 经典终端
- 除了 `\n` 和 `\r` 之外
	- 还有 `什么` 特殊字符 吗？🤔
- 我们下次再说！👋

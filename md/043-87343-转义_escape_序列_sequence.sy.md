---
show: step
version: 1.0
enable_checker: true
---

# 转义序列

## 回忆上次内容

- 上次回顾了`5bit-Baudot`博多码的来历
- 从 莫尔斯码 到 博多码
	- 原来
	  - 人 来 收发电报
	- 现在
		- 机器 来 收发电报
	- 输入方式
		- 从 电键
		- 改成 键盘
	- 输出方式
		- 从 纸带
		- 变成 打印纸张
- 后来
	- 电传打字机ASR-33
	- 成为 初代 经典终端
- 除了 `\n` 和 `\r` 之外
	- 还有 `什么` 特殊字符 吗？🤔

### 搜索 ASCII

- 找到`ascii`的定义
- 还有好多类似于`\n`、`\r`之类的东西

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210224-1614132466771)

### 动手试试

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210224-1614132527364)

### 转义总结

- `\a`是 ␇ (bell),
  - 早期电传打字机快回车之前都会预警的铃铛
  - 避免回车过程中打击字符出现错误
  - 也可以手动发送编码敲一下这个铃铛
  - 后来一般都是和主机直接连接的蜂鸣器之类的
  - 现代终端或者服务器一般没有这个响动
  - 有声卡连接的音响，一般也没有声音
- `\b`
  - BackSpace，退回一格
- `\t`
  - 是水平制表符
  - 一般来说是四个字符
  - Horizontal Tab
- `\v`、`\f`
  - 效果就是 LineFeed 的样子
- 为什么只能`\n`
	- 难道`/n`不行么？
	- 动手试试！！

### 黑暗森林

- 这时我们再看看ascii码表

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221021-1666357755757)

- 黑暗森林好像也没有那么神秘了
- 已经有一些部分展示了出来

### 实验

- 确实不行

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210923-1632393662999)

- `ascii`的定义是源头
- python 对于这些字符的解释是跟 c 语言学习的
- 这些特殊的东西都和 `\`反斜杠 这个字符相关联
- 为什么呢？

### 反斜杠

- 为什么方向的斜杠管这个叫反斜杠呢？
- 斜杠是成对儿的
  - 有 slash 斜杠 /
  - 就有 backslash 反斜杠 \

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210224-1614171719752)

- 我们一般的都是右利手
  - 一般从上往下砍都是 右上到左下 slash 很顺手
  - slash 这个词本身就是砍
  - 用鞭子或者锋利的刃来砍
	- 暴力的砍
	- 主要是对于树来说的
  - 顺手的就是 slash
  - 反过来不顺手的就是 backslash
- escape code 转义字符有点逆向思维的感觉
	- \自身无法构成一个一个具体的字符
	- 而是要和后面的字符一起
	- 构成一个转义的字符
- 所以转义用的是反斜杠
	- 用的是\ backslash

### 转义 Escape

- `\`反斜杠(backslash)加了其他字符之后
	- 字符就不是原来的字面意思了
	- 转义么
	- 转义转义 
	- 转化含义

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210224-1614157679393)

- 所以`\`反斜杠这个字符
	- 也叫做转义字符`Escape character`
	- `\b` 这两个字符的序列算是一个转义序列 `Escape sequence`
		- `\` 这个转义字符
		- 会让 `\b`转义序列 
		- 转义为 `Backspace` 退格 这个字符
		- `Backspace` 退格 这个字符是转义序列`\b`转化含义之后的含义
	- 这个转化后的含义也对应一个ascii字符
- 可以在键盘找到这个字符吗？

### 键盘

- 就是 `\b`
	- 键盘上的<kbd>退格</kbd>对应的数值就是`8`

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210226-1614310192087)

- 转义的本质是什么呢?

### 转义本质

- 转义转义转换含义!!!😡
  - `\n`本来是两个字符
  - 转义字符`\`反斜线
  - 把自己和后面的字符`n`一起
  - 构成了转义序列`\n`
  - 转换含义成为一个新的含义
  - 原来的字符是`\`和`n`
  - 转成新的含义为`换行`

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220414-1649941727864)


- `\r`就不是`\`和`r`了
	- `\r`是一个整体
	- 对应一个字符
	- 整个对应 ascii 中序号`13`的字符

### 试试

- 就像`a`对应 `65` 一样
	- `\b` 对应 `8`
- `\b` 在 python3 的作用是实现退格
	- 你发现了 12a 变成 1a 了么？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210923-1632394056849)

- `\b`、`\x08`、`chr(8)`是同一个字符
- 但是这个`\x08`是什么意思？

### 继续转义

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221018-1666061961593)

- 这个`x08`刚好是退格对应字符的 ascii值
    - <kbd>退格</kbd>对应的数值是`8`
	- (`0x08`)<sub>16进制</sub>
  - 但是这个 x 是什么意思来着？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210224-1614158000148)

- `x`的意思应该是`hexadecimal`
	- hex就是大着舌头说six
	- 后面`2`位`16`进制数
	- 刚好对应一个字节

## 总结
- 什么是转义？
	- 转义转义转化含义
	- `\` 是转义字符
	- `\n`、`\r`是转义序列
- 除了`\n`、`\r`之外还有什么特殊的转义序列吗？
  - `\a`是 ␇ (bell),
  - `\b` 回退一格
  - `\t` 水平制表符 tab
  - `\v`、`\f` 实现LineFeed的效果
- 通过 16 进制数值转义
  - `\xhh`
  - 把(`hh`)<sub>`16进制`</sub>对应的`ascii`字符输出
- 如果我们不输入x
  - 会发生什么呢？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220918-1663508014283)

- 为什么会这样呢？？🤔
- 我们下次再说！👋

---
show: step
version: 1.0
enable_checker: true
---

# 更多颜色

## 回忆上次内容

- 这次我们搞的还是颜色
  - FG foreground 前景色 30-37
  - BG background 背景色 40-47

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614227808523)

- 这些都可以和字体的样式结合起来

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230252445)

- 难道就这几种颜色吗？？🤔
- 有点少啊！
- 有些颜色也和想象不一致
	- 金黄色也不够黄啊？！

### 明确概念

- `\`是
	- 转义字符 
	- escape character
- `\`和其他字符
	- 可以构成转义序列
	- `\t`
	- `\n`
	- `\r`
- `\e` 也是转义序列
	- `\e` 这个转义序列转义到 `escape` 这样的状态
	- 从正常的输出退出
	- 进入 `control sequences` 控制序列
- 控制序列
	- 不直接输出到屏幕
	- 而是设置一些位置、样式、颜色之类的
	- 他开始于 `CSI(Control Sequence Introduce)`
- `CSI`
	- `\e` 对应 `ascii` 的值是`(033)<sub>8</sub>`
	- `\033[` 就是 控制序列初始化符号(`Control Sequence Introduce`)
	- 所以一般写作`\033[`控制信息
	-  如果我就想输出这个`csi`应该如何呢？

### 输出csi

- 直接对`\`转义就可以

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221025-1666698867612)

- 各厂商终端都开始学习VT100的控制序列
	- 关于控制信息的实现细节
	- 基本一致
	- 最终统一到了 ansi 标准下

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614264500107)

- 于是终端有了色彩

### 亮色设置

- 31-37 对应八种常见的前景色
- 41-47 对应八种常见的背景色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614227808523)

- 91-97 对应八种高亮的常见前景色
- 100-107对应 八种高亮的常见背景色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230130640)

### 尝试

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651743489643)

- Bright Red和Red确实不一样

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651743498240)

- Green也有区别
- 高亮绿真的比原来更高亮啊！！😳

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651743580422)

- 高亮蓝色确实让蓝色高亮了起来
- 但是这个和字体样式中的加粗加亮比较呢？

### 具体实验

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230148675)

- 各种控制符
	- 31是普通红色
	- 91的高亮红色
	- 1是加粗字体
	- 31;1是普通红色加粗字体
- 亮度排序
	- 最亮 
		- 31;1
		- 91;1
	- 中亮
		- 91
	- 低亮
		- 31
- 颜色有点粉呢
	- 还不是纯红色
- 这个颜色可以更明确地量化吗？
	- 或者说落实到具体RGB数值？

### 具体颜色

- 高亮只是当时的一个名称
	- 这些名称确实可以定义颜色
	- 也可以定义高亮颜色
- 但是
	- 究竟什么是红？
	- 什么是高亮红？
	- 这很抽象
- 最终具体的颜色是由终端控制的
	- 这些终端必须得落实到颜色值
- 虽然每个终端软件实现的红色
	- 都是红的
	- 但具体会有一些差异

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230347860)

- 可是
	- 在这个xfce的终端上
	- 我就是想要一个大红🟥啊！😫

### 目前颜色

- 这都不够红😫

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667266499919)

- 可以再红点么？

### 更多颜色

- 继续深挖关于逃逸字符的文档
- 可以用索引颜色
- 那就是 38;5;索引数字m

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230916627)

- 这里面提到的196、213、160来自于什么呢？

### 索引颜色表

- 索引数字来自于索引表

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230607701)

- 这颜色好多啊
	- 记不住怎么办？
	- 或者可以研究一下这些颜色的规律？

### 规则原理

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230960132)

- 0-7 是标准色
	- 就是原来的30-37
- 8-15 是高亮色
	- 就是原来的90-97
- 16-231 是混合色
  - r、g、b 都是从 {0,1,2,3,4,5} 的阶梯范围
  - 具体的颜色数值来自于 `16+36*r+6*g+b`
  - 得到数值后可以显示颜色
	- 232-255 是 24 级灰阶色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230607701)


- 仔细想想lolcat这个命令就是利用了这些颜色设置
- 有了这个我可以制作一个海蓝色的海龟么？

### 海蓝色的大海龟

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210924-1632458685121)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210924-1632458697148)

- 我想让海龟颜色变色
- 怎么办？

### 循环范围

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230607701)

- 每次增加 1
- 从 16 到 231
- 现在需要 python 做一个循环
- 遍历所有的数字

### 修改

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614230607701)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667268748498)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667268762426)

- 索引数字出来了
- 如何根据索引颜色设置颜色呢？

### 设置前景索引颜色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667269046307)

- "\33[38;2;xxxm"
	- 设置前景使用xxx号索引色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667269055717)

- 那如何设置背景色呢？

### 设置背景索引颜色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667270043024)

- 把原来的38改成48
	- 就是设置背景索引颜色了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667269203061)

- 能否让这些字一个个出来呢？
- 逐个出现肯定要用到延迟
	- 不要翻页，自己尝试一下

### 一个个出来

- 逐个出现

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667269860377)

- 颜色有点混同
- 可以让前景和背景互为补色吗？

### 设置

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667270265994)

- 利用互补色和一定的规律
	- 16 + 231 = 247
	- 17 + 230 = 247
	- 18 + 229 = 247

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667270278437)

- 但是这个颜色描述还是不够细腻
- 能直接设置 RGB 么？🤔

## 总结

- 这次首先了解了高亮颜色
	- 91-97 是高亮常用前景色
	- 101-107是高亮常用背景色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614231595731)

- 索引颜色
	- \33[38;5;XXXm  设置前景索引颜色
	- \33[48;5;XXXm  设置被景索引颜色
- RGB每种颜色颜色 
	- 可选0-5 
	- 总共 6 级

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614231791978)

- 我想用RGB值
	- 真实地大红色画个桃心 ♥️
- 有可能吗？？🤔
- 我们下次再说！👋

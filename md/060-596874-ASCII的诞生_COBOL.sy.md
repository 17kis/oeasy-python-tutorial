---
show: step
version: 1.0
enable_checker: true
---

# 编码进化

## 回忆上次内容

- 上次回顾了字符编码的进化过程
  - IBM 在世界走向数字化的过程中
	- 发挥了非常大的作用
    - IBM 在此过程中产生的 BCDIC 也有很多有趣的黑历史
    - 6bit的BCDIC 直接进化到了 8bit 的 EBCDIC
	   - 补全了小写字母和一些控制字符
- 在那个ibm就是整个信息产业的时代
- ibm的标准怎么没有成为最终行业的标准呢？🤔

### ibm 

- ibm当时确实如日中天

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667308648725)

- 主机、终端都是ibm自己的
	- 软硬件一体
	- ibm就是整个数字世界
- EBCDIC 本身就是 
	- ibm 自己的内部的编码	
		- 内部的通信协议
- 外面根本不知道怎么回事
	- 就算知道了
	- 也只有去兼容的份儿
- 但是ibm开始想让主机之间可以通信
- 他想让更多主机加入arpa网

### 通信

- 通信当中
	- 共识非常重要
	- 如果几台主机编码方式彼此不通
	- 是无法通信的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667310711121)

- 最先被搞疯的是ibm内部的人
	- Bemer 
- 他发现通用的编码在组网的时候太重要了！！！

### 无奈

- 不同的编码实在折磨他够呛
	- 也没有合适的转码程序
	- 更重要的是不知道对方到底用的是什么样的编码方式
	- 就好像你能听到声音
	- 但是不知道去用哪国语言来翻译😭

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667350154639)

- 大型机市场也有一些其他的玩家
	- Honeywell 
	- univac
- 事实上9种编码方式
	- 构成了计算机的巴别塔
	- 各个公司各自为政
- IBM高层其实不太懂技术
	- 他们不知道EBCDIC的缺陷
- 毕竟公司是由来销售驱动的

### COBOL - 纸带

- IBm进行统计业务的基础上
	- 对大型的商业机构提供可执行程序
- 为此IBM在1959年定制了编程语言COBOL
	- Common Business-Oriented Language
	- 面向商业的通用语言
		- Bemer参与了COBOL的制定

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667352830954)

- 程序被写在ibm的卡片上
	- 是一种自记录式的语言

### COBOL - 电传打字机

- 输入输出设备变成了电传打字机
- 存储设备变成了磁带

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667353683729)

- 可是COBOL语言到底长什么样子呢？

### COBOL - 终端时代

- 有了终端作为输入输出设备
	- 我们终于可以直观地看到COBOL的样子了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667351778600)

- 但是任何语言的篇章段局再复杂
	- 最终还是要落实到一个一个的字母上
	- 落实到字母就有如何对于字母编码的问题

### EBCDIC的问题

- 由于EBCDIC是从BCDIC过来的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667300941274)

- 字母本身并不连续
	- 判断一个字符是不是字母
		- 非常麻烦！
- 这语言有600个关键字
	- 在判断的时候无形中
		- 增加了很多没有必要的逻辑
	- 这些逻辑费时费力还费电
- IBM高层想的是更高业绩和更高提成
	- 铁了心想要将EBCDIC进行到底

### Proposal

- Bemer 在 IBM 内部无法获得支持	
	- 但是又得干很多具体的事物
- 大型商业机构(特别是银行)不光是要记录自己的数据
	- 彼此的交易记录也需要被记录
	- 商务过程需要程序化

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221101-1667310895781)

- 他开始在专业杂志上发请求
	- 期待行业中能有一个更好的解决方法

### 组织成立

- ANSI(American National Standards Institute)的前身
	- American Standards Association's (ASA)
	- 成立了 X3.2 子委员会
	- 委员了解技术
	- 来自于各大商业巨头
	- 代表各方利益

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667356544210)

- 在X3.2第一次大会期间
	- 成立了 X3.2.4 工作组
	- 专门想怎么去解决这么一个问题
- 这就不光是IBM的事情了
	- 综合协调各大巨头的利益

### 发布了标准

- 1963年 X3.2.4 工作组 
	- 发布了 ASA X3.4-1963 标准

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667356073748)

- 这63年的ascii长什么样子？

### 具体正文

- 7-bit的编码长度
	- 结构和今天的ascii基本一样
	- 空了28个字符
	- 今天看起来是预留给小写字母的空间
	- 但是当时还不敢放下去

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667357105218)

- Bemer在这个组织中
	- 做出了很多建议
- 这种当时的新编码比EBCDIC有了很大进步	
	- 新编码好用在哪里呢？

### ASCII字母连续性

- 连续性
	- ascii的大写字母是连续的
	- ascii的小写字母也是连续的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667351107931)

- 可以判断字符是否为字母非常轻松

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667351295909)

- 还加了一些新字符进去

### 反斜杠

- 反斜杠就是Bemer加到ASCII当中的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667355455155)

- 反斜杠后来发展成了转义字符
	- 在1963年的版本中黑暗森林已经初具规模
	- 不过好像找不到Esc

### Esc

- Esc 当时还不在今天的黑暗森林中
	- 当时位于倒数第二个

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667355703512)

- 1963年Bemer将Esc引入到ascii中
- 几年之后
	- 小型机新军DEC将Esc玩成了终端控制序列
	- 从 VT05 到 VT100 再到 VT220
	- 最终把控制序列玩成了ANSI标准
		- \33[38;5;196❤\33[0m 
		- 爱了

### 最初版的黑暗森林

- 很多编码已经消失了

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667358232869)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667358239234)


- 有些永远留在了ascii里面
	- LF
	- HT 其实就是 TAB
	- ESC
	- DEL

### 组织

- 标准一经推出
	- 被Bell贝尔公司响应
	- Bell是电报电话领域的巨头
	- 在计算机领域没有历史包袱

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667359019068)

- 贝尔、麻省理工及美国通用电气想要在这里一领域有所收获
	- 成立了multics项目组
	- 后来项目组解散
	- 无所事事的二人开始琢磨怎么在PDP-11继续玩游戏
	- 最终 unix 和 c 诞生

### 新的生态

- unix 和 c 诞生之后
- IBM那套自上而下、以销售为核心的体系
- 其实是不太会写代码的

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221113-1668304558196)

- unix 和 c 迅速占领市场
- 硬件是DEC小型机

### ASA X3.4-1963 

- 新公司往往没有历史包袱
	- 采取了ASA X3.4-1963 这个编码集

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667359405438)

- DEC公司也在崛起中
	- 从终端到小型机进化

### PDP的崛起

- 1962年
	- 美国麻省理工学院里
	- 坐落着世界上第一台拥有可视化显示器的电脑PDP-1
	- 这台电脑拥有10英寸光栅显示器

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230108-1673145384573)

- 斯蒂芬·罗素带着学生开发出了
	- 一款具有历史意义的电子游戏——《太空大战》
	- 利用最原始的图形技术表现出茫茫深空下的神秘
	- 召开史上第一次电子竞技大会
		- “泛银河系太空大战奥运会”

### VT-100

- PDP-11系列小型机和VT-100系列终端
	- 真的很潮

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230108-1673146423789)

- PDP小型机开始用小型机网络网络的方式蚕食着IBM大型机的市场
- ASCII在网络中逐渐成为基础

## 总结

- 这次回顾了字符大战的结果
  - ibm 曾经的 EBCDIC 由于字符不连续
	  - 导致后续出现无数问题
  - 7bits 的 ASA X3.4-1963 
	  - 字母序号是连续的
		  - 做字符和字符串比较的时候就非常直接和容易
		  - 判断字符是否是字母也很容易
	  - 获得了绝大多数公司的支持

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221102-1667358627226)

- 为什么ASA X3.4-1963 是7-bit 的编码？
- 8-bit不是正好一个字节吗？🤔
- 我们下次再说！👋